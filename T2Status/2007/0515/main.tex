% vim: set tw=0:
\documentclass{beamer}
\usepackage{graphicx}

% Reasonable themes:
% Antibes Bergen Berkeley Berlin Frankfurt Goettingen Ilmenau Luebeck Malmoe
% Montpellier PaloAlto Rochester Singapore Szeged Warsaw bars boxes
% compatibility default lined plain shadow sidebar split tree
% And these ones include the author's name on every slide:
% Berkeley

% Declare themes.
\mode<presentation>
\usetheme{UWHEP}

% Personal macros.
\newcommand{\email}[1]{{\texttt #1}}
\newcommand{\newframe}[1]{\section{#1}
    \frametitle{\sc{#1}}}
\newcommand{\subframe}[1]{\subsection{#1}
    \frametitle{\sc{#1}}}
\newcommand{\supers}[1]{\ensuremath{^\textrm{#1}}}
\newcommand{\subs}[1]{\ensuremath{_\textrm{#1}}}
\newcommand{\ca}{\ensuremath{\sim}}

% Author information.
\title{T2 Status}
\author[Maier, Mohapatra]{
    Will Maier \and Ajit Mohapatra\\ 
    {\tt wcmaier@hep.wisc.edu}\\
    {\tt ajit@hep.wisc.edu}}
\institute[Wisconsin]{University of Wisconsin - High Energy Physics}
\date{2007.05.15}
\logo{\includegraphics*[height=0.6cm]{../../Graphics/USCMS_logo.png}\hspace{.1cm}\includegraphics*[height=0.75cm]{../../Graphics/UW_logo.png}}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}

%\section{Overview}
%\begin{frame}
%    \tableofcontents
%\end{frame}

\section{Facilities}
\subsection{Hardware/Software}
\begin{frame}
\frametitle{New machines and dCache}
\begin{itemize}
    \item 32 new 8-core storage/worker nodes arrived
    \begin{itemize}
        \item Waiting for switch; should be online soon
        \item \ca{}96TB disk (4x750G per node) for resilient dCache
    \end{itemize}
    \item ReplicaManager is doing better: down to 500 unreplicated files
    \item Found \ca{}50G of files on most pool disks but not in PNFS or the 
    ReplicaManager
    \begin{itemize}
        \item Most lack StorageInfo files -- the product of failed transfers?
    \end{itemize}
    \item Running multiple JVMs on all storage nodes
    \begin{itemize}
        \item Still have pool lockups, but we can selectively restart pools
    \end{itemize}
\end{itemize}
\end{frame}

\section{Monitoring}
\subsection{SAM Test}
\begin{frame}
\frametitle{SAM Test}
On the whole, good performance in April, though AFS instability (2007.04.25) 
and some account mapping problems caused hiccups:
\begin{figure}
    \includegraphics*[height=6cm]{Graphics/osg_sam_quality.png}
\end{figure}
\end{frame}

\begin{frame}[fragile]
\frametitle{GsiFTP failures}
About half of our {\tt CE-sft-job} failures are due to:
\scriptsize
\begin{verbatim}
Event: Done
- exit_code               =    1
- host                    =    rb113.cern.ch
- level                   =    SYSTEM
- priority                =    asynchronous
- reason                  =    Cannot download testjob.tgz from gsiftp://...
- seqcode                 =    UI=000003:NS=0000000003:WM=000004:BH=0000000000: \
                               JSS=000003:LM=000007:LRMS=000000:APP=000000
- source                  =    LogMonitor
- src_instance            =    unique
- status_code             =    FAILED
- timestamp               =    Mon Apr 16 14:21:58 2007
- user                    =    /C=CH/O=CERN/OU=GRID/CN=Andrea Sciaba 8968
\end{verbatim}
\end{frame}

\begin{frame}[fragile]
\frametitle{JobWrapper failures}
Similarly, another half of our {\tt CE-sft-job} failures are due to:
\scriptsize
\begin{verbatim}
Event: Done
- exit_code               =    1
- host                    =    rb113.cern.ch
- level                   =    SYSTEM
- priority                =    asynchronous
- reason                  =    Cannot read JobWrapper output, both from Condor \
                               and from Maradona.
- seqcode                 =    UI=000003:NS=0000000003:WM=000004:BH=0000000000: \
                               JSS=000003:LM=000007:LRMS=000000:APP=000000
- source                  =    LogMonitor
- src_instance            =    unique
- status_code             =    FAILED
- timestamp               =    Tue May 15 14:16:19 2007
- user                    =    /DC=ch/DC=cern/OU=Organic Units/OU=Users/ \
                               CN=sciaba/CN=430796/CN=Andrea Sciaba
\end{verbatim}
\end{frame}

\begin{frame}[fragile]
\frametitle{RB Abort}
Finally, a small number of our {\tt CE-sft-job} failures are due to:
\scriptsize
\begin{verbatim}
Event: Abort
- host                    =    rb127.cern.ch
- level                   =    SYSTEM
- priority                =    asynchronous
- reason                  =    Cannot plan: BrokerHelper: no compatible resources
- seqcode                 =    UI=000003:NS=0000000003:WM=000004:BH=0000000000: \
                               JSS=000000:LM=000000:LRMS=000000:APP=000000
- source                  =    WorkloadManager
- src_instance            =    WM
- timestamp               =    Sun Apr 15 02:13:44 2007
- user                    =    /DC=ch/DC=cern/OU=computers/CN=rb127.cern.ch
\end{verbatim}
\end{frame}

\subsection{Load Test}
\begin{frame}
\frametitle{Load Test and PhEDEx Upgrade}
\begin{itemize}
    \item Transfers failed during validation with PhEDEx 2.5.2 (installed 2007.05.12)
    \item {\tt FileDownloadVerify} error: {\tt Error parsing srm-get-metadata output!}
    \item Using Brian's script, the same file was working OK in 2.5.1
    \item Problem: Python in Phedex\_251 (2.4.3) vs Phedex\_252 (2.4.2)?
    \item Fixed with {\tt Custom/Template/FileDownloadSRMVerify}
\end{itemize}

\begin{figure}
    \includegraphics*[height=4cm]{Graphics/phedex_252_wisc_quality.png}
\end{figure}

\end{frame}

\end{document}
